(()=>{"use strict";var e={719:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".car__header {\n  display: flex;\n  align-items: center;\n}\n\n.car__road {\n  border-bottom: 3px dashed #000000;\n  display: flex;\n  align-items: end;\n}\n\n.car__buttons {\n  display: flex;\n}\n\n.car__buttons .button {\n  width: auto;\n}\n\n.car__image {\n  transition: transform 0.1s linear 0s;\n}\n\n.car__flag {\n  margin-left: 70vw;\n}",""]);const s=o},420:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(81),a=n.n(r),i=n(645),o=n.n(i),s=n(667),c=n.n(s),d=new URL(n(31),n.b),l=o()(a()),u=c()(d);l.push([e.id,`.footer {\n  background-color: #2B282F;\n}\n\n.footer__container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 20px;\n}\n\n.footer__logo::after {\n  content: url(${u});\n  display: block;\n  width: 100px;\n  margin: 0 20px;\n}`,""]);const h=l},239:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".header {\n  background-color: #2B282F;\n}\n\n.header__container {\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.header__menu {\n  display: flex;\n}\n\n.header__link {\n  margin-right: 10px;\n  cursor: pointer;\n  transition: 0.5s;\n}\n\n.header__link:hover {\n  color: #865eff;\n}\n\n.header__link.active {\n  color: #865eff;\n}",""]);const s=o},577:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  /* background-color: #0000005a; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n}\n\n.modal {\n  position: relative;\n  border-radius: 10px;\n  background-color: #2b282f82;\n  width: 500px;\n  min-height: 120px;\n  max-height: 90%;\n  overflow: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal__close-icon {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n}\n\n.modal__content {\n  font-size: 20px;\n}",""]);const s=o},510:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".garage__buttons .button {\n  margin: 5px 10px 5px 0px;\n}\n\n.garage__update-car-id {\n  visibility: hidden;\n}\n\n.garage__pagination-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n}",""]);const s=o},487:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".main__container {\n  padding: 20px;\n}\n\n.page.hidden {\n  display: none;\n}",""]);const s=o},898:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,".winner__table th,\n.winner__table td {\n  padding: 3px;\n  width: 10vw;\n  text-align: center;\n}\n\n.winner__thead tr {\n  background-color: #2b282f;\n}\n\n.winner__th div {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.sort {\n  display: flex;\n  flex-direction: column;\n  margin: 5px ;\n}\n\n.sort span {\n  display: block;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 10px solid #bdbdbd;\n  cursor: pointer;\n  margin: 2px 5px;\n  transition: all 0.3s ease 0s;\n}\n\n.sort span:hover {\n  border-top: 10px solid #7b7b7b;\n}\n\n.sort span.active {\n  border-top: 10px solid #865eff;\n}\n\n.sort span:first-child {\n  transform: rotate(180deg);\n}",""]);const s=o},426:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,'html,\nbody {\n  margin: 0;\n  padding: 0;\n  line-height: 18px;\n  font-size: 14px;\n  color: #C9C8CC;\n  font-weight: 400;\n  font-style: normal;\n  font-family: "Exo 2", "Lato", "Helvetica Neue", sans-serif;\n  background-color: #37323E;\n  scroll-behavior: smooth;\n  box-sizing: border-box;\n}\n\nbody {\n  height: 100vh;\n  display: grid;\n  grid-template-rows: 70px 1fr 90px;\n}\n\nul {\n  list-style-type: none;\n}\n\nh1 {\n  margin: 0;\n  font-size: 24px;\n  line-height: 24px;\n}\n\nh2 {\n  font-size: 20px;\n}\n\ninput {\n  height: 22px;\n  padding: 0;\n  border: 1px;\n  margin-right: 5px;\n}\n\n.form {\n  display: flex;\n  align-items: center;\n}\n\n.button {\n  width: 100px;\n  background-color: #5c595fa1;\n  border: none;\n  color: #c9c8cc;\n  padding: 3px;\n  margin: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n}\n\n.button:hover {\n  background-color: #865eff;\n}\n\n.button:disabled {\n  background-color: #5c595f54;\n  cursor: auto;\n}\n\n.container {\n  max-width: 1400px;\n  margin: 0px auto;\n}',""]);const s=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},652:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(719),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},971:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(420),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},892:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(239),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},244:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(577),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},908:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(510),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},252:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(487),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},798:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(898),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},654:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(379),a=n.n(r),i=n(795),o=n.n(i),s=n(569),c=n.n(s),d=n(565),l=n.n(d),u=n(216),h=n.n(u),p=n(589),m=n.n(p),g=n(426),E={};E.styleTagTransform=m(),E.setAttributes=l(),E.insert=c().bind(null,"head"),E.domAPI=o(),E.insertStyleElement=h(),a()(g.Z,E);const f=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],d=r.base?c[0]+r.base:c[0],l=i[d]||0,u="".concat(d," ").concat(l);i[d]=l+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var m=a(p,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=n(i[o]);t[s].references--}for(var c=r(e,a),d=0;d<i.length;d++){var l=n(i[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},717:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(977),a=n(150),i=n(0);t.App=class{constructor(){this.header=new r.Header,this.main=new a.Main,this.footer=new i.Footer}start(){}}},315:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCarImage=void 0,t.getCarImage=function(e){return`\n  <svg xmlns="http://www.w3.org/2000/svg" width="4vw" fill="${e}" viewBox="0 0 640 512">\n    <path d="M171.3 96H224v96H111.3l30.4-75.9C146.5 104 158.2 96 171.3 96zM272 192V96h81.2c9.7 0 18.9 4.4 25 12l67.2 84H272zm256.2 1L428.2 68c-18.2-22.8-45.8-36-75-36H171.3c-39.3 0-74.6 23.9-89.1 60.3L40.6 196.4C16.8 205.8 0 228.9 0 256V368c0 17.7 14.3 32 32 32H65.3c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80H385.3c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80H608c17.7 0 32-14.3 32-32V320c0-65.2-48.8-119-111.8-127zM434.7 368a48 48 0 1 1 90.5 32 48 48 0 1 1 -90.5-32zM160 336a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />\n  </svg>`}},881:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Car=void 0,n(652);const r=n(382),a=n(315),i=["garage__car","car"],o=["car__header"],s=["car__select","button"],c=["car__remove","button"],d=["car__name"],l=["car__road"],u=["car__buttons"],h=["car__start","button"],p=["car__stop","button"],m=["car__image"],g=["car__flag"];t.Car=class{constructor(e,t,n){this.element=this.createCar(e,t,n)}createCar(e,t,n){const E=(0,r.createElement)("div",i),f=(0,r.createElement)("div",o),_=(0,r.createElement)("button",s,"Select"),v=(0,r.createElement)("button",c,"Remove"),b=(0,r.createElement)("h4",d,t),A=(0,r.createElement)("div",l),C=(0,r.createElement)("div",u),y=(0,r.createElement)("button",h,"A"),P=(0,r.createElement)("button",p,"B"),T=(0,r.createElement)("div",m),I=(0,r.createElement)("div",g);return E.setAttribute("carId",e.toString()),P.disabled=!0,T.innerHTML=(0,a.getCarImage)(n),I.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"  width="2vw" fill="#ff0000" viewBox="0 0 448 512"> <path d="M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32V64 368 480c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48V32z" /> </svg>',f.append(_,v,b),C.append(y,P),A.append(C,T,I),E.append(f,A),E}}},459:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.carModel=t.carBrand=void 0,t.carBrand=["Audi","BMW","Chery","Chevrolet","Ferrari","Fiat","Ford","Honda","Kia","Lamborghini","Land Rover","Lexus","Mercedes-Benz","MINI","Nissan","Opel","Skoda","Toyota","Volkswagen"],t.carModel=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8"]},0:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const r=n(382);n(971);const a=["footer"],i=["footer__container","container"],o=["footer__logo"];t.Footer=class{constructor(){this.createFooter()}createFooter(){const e=(0,r.createElement)("footer",a),t=(0,r.createElement)("div",i),n=(0,r.createElement)("span",[],"Â©2023 by "),s=(0,r.createElement)("a",[],"gorobchenko-k"),c=(0,r.createElement)("a",o);s.href="https://github.com/gorobchenko-k",c.href="https://rs.school/js/",n.append(s),t.append(n,c),e.append(t),document.body.append(e)}}},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(892);const r=n(382),a={header:["header"],container:["header__container","container"],title:["header__title"],menu:["header__menu"],link:["header__link"]},i={title:"Async race",links:["Garage","Winner"]};t.Header=class{constructor(){this.createHeader()}createHeader(){const e=(0,r.createElement)("header",a.header),t=(0,r.createElement)("div",a.container),n=(0,r.createElement)("h1",a.title,i.title),o=(0,r.createElement)("ul",a.menu);i.links.forEach((e=>{const t=(0,r.createElement)("li",[...a.link,`${e.toLowerCase()}-link`],e);t.addEventListener("click",(()=>this.linkHandler(e))),o.append(t)})),t.append(n,o),e.append(t),document.body.append(e)}linkHandler(e){const t=(0,r.getElements)(".page"),n=(0,r.getElement)(`.${e.toLowerCase()}`);t.forEach((e=>{e.classList.add("hidden")})),n.classList.remove("hidden")}}},313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0,n(244);const r=n(382);t.Modal=class{constructor(){this.modal=(0,r.createElement)("div",["modal"]),this.modalContent=(0,r.createElement)("div",["modal__content"]),this.modalCloseBtn=(0,r.createElement)("button",["modal__close-icon"]),this.overlay=(0,r.createElement)("div",["overlay","overlay_modal"])}buildModal(e){this.modalCloseBtn.innerHTML='<svg width="21" height="22" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4239 10.5172L20.6009 2.33999C21.1331 1.80809 21.1331 0.948089 20.6009 0.416194C20.069 -0.115701 19.209 -0.115701 18.6771 0.416194L10.4999 8.59343L2.3229 0.416194C1.79076 -0.115701 0.931004 -0.115701 0.399108 0.416194C-0.133036 0.948089 -0.133036 1.80809 0.399108 2.33999L8.5761 10.5172L0.399108 18.6945C-0.133036 19.2263 -0.133036 20.0863 0.399108 20.6182C0.664184 20.8836 1.01272 21.0169 1.361 21.0169C1.70929 21.0169 2.05758 20.8836 2.3229 20.6182L10.4999 12.441L18.6771 20.6182C18.9425 20.8836 19.2907 21.0169 19.639 21.0169C19.9873 21.0169 20.3356 20.8836 20.6009 20.6182C21.1331 20.0863 21.1331 19.2263 20.6009 18.6945L12.4239 10.5172Z" fill="#C9C8CC"/></svg>',this.setContent(e),this.appendModalElements(),this.bindEvents(),this.openModal()}setContent(e){"string"==typeof e?this.modalContent.innerHTML=e:(this.modalContent.innerHTML="",this.modalContent.append(e))}appendModalElements(){this.modal.append(this.modalCloseBtn),this.modal.append(this.modalContent),this.overlay.append(this.modal)}bindEvents(){this.modalCloseBtn.addEventListener("click",this.closeModal),this.overlay.addEventListener("click",this.closeModal)}openModal(){document.body.append(this.overlay)}closeModal(e){const{target:t}=e;t instanceof Element&&(t.classList.contains("overlay")||t.closest(".modal__close-icon"))&&((0,r.getElement)(".overlay").remove(),e.stopPropagation())}}},918:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.switchEngineAPI=t.startOrStopEngineAPI=t.deleteCarAPI=t.updateCarAPI=t.createCarAPI=t.getCarsAPI=t.getCarAPI=void 0;const r="http://127.0.0.1:3000";t.getCarAPI=function(e){return n(this,void 0,void 0,(function*(){return(yield fetch(`${r}/garage/${e}`,{method:"GET"})).json()}))},t.getCarsAPI=function(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/garage?_page=${e}&_limit=${t}`,{method:"GET"});return{cars:yield n.json(),numberOfCars:Number(n.headers.get("X-Total-count"))}}))},t.createCarAPI=function(e){return n(this,void 0,void 0,(function*(){return(yield fetch(`${r}/garage`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))},t.updateCarAPI=function(e,t){return n(this,void 0,void 0,(function*(){return(yield fetch(`${r}/garage/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))},t.deleteCarAPI=function(e){return n(this,void 0,void 0,(function*(){yield fetch(`${r}/garage/${e}`,{method:"DELETE"})}))},t.startOrStopEngineAPI=function(e,t){return n(this,void 0,void 0,(function*(){return(yield fetch(`${r}/engine?id=${e}&status=${t}`,{method:"PATCH"})).json()}))},t.switchEngineAPI=function(e,t="drive"){return n(this,void 0,void 0,(function*(){const n=yield fetch(`${r}/engine?id=${e}&status=${t}`,{method:"PATCH"}).catch();return 200===n.status?n.json():{success:!1}}))}},351:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NUMBER_OF_GENERETED_CARS=t.LIMIT_PER_PAGE=t.GARAGE_TEXT=t.GARAGE_STYLE=void 0,t.GARAGE_STYLE={garage:["garage","page"],createCar:["garage__create-car","form"],createInput:["garage__input-create"],createInputColor:["garage__input-color-create"],createButton:["garage__button-create","button"],updateCar:["garage__update-car","form"],updateInput:["garage__input-update"],updateInputColor:["garage__input-color-update"],updateButton:["garage__button-update","button"],updateCarId:["garage__update-car-id"],buttons:["buttons"],raceButton:["garage__button-race","button"],resetButton:["garage__button-reset","button"],generateButton:["garage__button-generate","button"],title:["garage__title"],numberOfItems:["garage__number-of-items"],pageNumber:["garage__page-number"],currentPage:["garage__current-page"],items:["garage__items"],paginationButtons:["garage__pagination-buttons"],prevButton:["garage__button-prev","button"],nextButton:["garage__button-next","button"]},t.GARAGE_TEXT={createButton:"Create",updateButton:"Update",raceButton:"Race",resetButton:"Reset",generateButton:"Generate cars",title:"Garage",pageNumber:"Page #",prevButton:"<",nextButton:">"},t.LIMIT_PER_PAGE=7,t.NUMBER_OF_GENERETED_CARS=100},595:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomCarName=t.getRandomColor=void 0;const r=n(459);function a(e){return Math.floor(Math.random()*e)}t.getRandomColor=function(){const e=a(256),t=a(256),n=a(256);return`#${e.toString(16)}${t.toString(16)}${n.toString(16)}`},t.getRandomCarName=function(){const e=a(r.carBrand.length),t=a(r.carModel.length);return`${r.carBrand[e]} ${r.carModel[t]}`}},398:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Garage=void 0,n(908);const r=n(382),a=n(351),i=n(295),o=n(918),s=n(881),c=n(595),d=n(313),l=n(327);t.Garage=class{constructor(){this.numberOfCars=0,this.garage=(0,r.createElement)("div",a.GARAGE_STYLE.garage),this.createCarForm=this.createForm("create"),this.updateCarForm=this.createForm("update"),this.raceButton=(0,r.createElement)("button",a.GARAGE_STYLE.raceButton,a.GARAGE_TEXT.raceButton),this.resetButton=(0,r.createElement)("button",a.GARAGE_STYLE.resetButton,a.GARAGE_TEXT.resetButton),this.generateButton=(0,r.createElement)("button",a.GARAGE_STYLE.generateButton,a.GARAGE_TEXT.generateButton),this.numberOfItems=(0,r.createElement)("span",a.GARAGE_STYLE.numberOfItems),this.currentPage=(0,r.createElement)("span",a.GARAGE_STYLE.currentPage),this.prevButton=(0,r.createElement)("button",a.GARAGE_STYLE.prevButton,a.GARAGE_TEXT.prevButton),this.nextButton=(0,r.createElement)("button",a.GARAGE_STYLE.nextButton,a.GARAGE_TEXT.nextButton),this.items=(0,r.createElement)("div",a.GARAGE_STYLE.items),this.pagination=new i.Pagination(a.LIMIT_PER_PAGE,this.currentPage,this.prevButton,this.nextButton,(()=>{this.setGarageContent()})),this.idAnimations={},this.isFirstCar=!0,this.createGarage(),this.setGarageContent(),this.addButtonHandlers()}createGarage(){const e=(0,r.createElement)("div",a.GARAGE_STYLE.buttons),t=(0,r.createElement)("h2",a.GARAGE_STYLE.title,a.GARAGE_TEXT.title),n=(0,r.createElement)("h3",a.GARAGE_STYLE.pageNumber,a.GARAGE_TEXT.pageNumber),i=(0,r.createElement)("div",a.GARAGE_STYLE.paginationButtons),o=(0,r.createElement)("span",a.GARAGE_STYLE.updateCarId);this.updateCarForm.append(o),this.resetButton.disabled=!0,e.append(this.raceButton,this.resetButton,this.generateButton),t.append(this.numberOfItems),n.append(this.currentPage),i.append(this.prevButton,this.nextButton),this.garage.append(this.createCarForm,this.updateCarForm,e,t,n,this.items,i)}createForm(e){const t=(0,r.createElement)("div",a.GARAGE_STYLE[`${e}Car`]),n=(0,r.createElement)("input",a.GARAGE_STYLE[`${e}Input`]),i=(0,r.createElement)("input",a.GARAGE_STYLE[`${e}InputColor`]),o=(0,r.createElement)("button",a.GARAGE_STYLE[`${e}Button`],a.GARAGE_TEXT[`${e}Button`]);return i.type="color",t.append(n,i,o),t}setGarageContent(){(0,o.getCarsAPI)(this.pagination.currentPage,a.LIMIT_PER_PAGE).then((({cars:e,numberOfCars:t})=>{this.items.innerHTML="",e.forEach((e=>{const t=new s.Car(e.id,e.name,e.color);this.items.append(t.element)})),this.setNumberOfCars(t)}))}addButtonHandlers(){const e=(0,r.getElement)(`.${a.GARAGE_STYLE.createButton[0]}`,this.createCarForm),t=(0,r.getElement)(`.${a.GARAGE_STYLE.updateButton[0]}`,this.updateCarForm);e.addEventListener("click",(()=>this.createCar())),t.addEventListener("click",(()=>this.updateCar())),this.generateButton.addEventListener("click",(()=>this.generateCar())),this.raceButton.addEventListener("click",(()=>this.startRace())),this.resetButton.addEventListener("click",(()=>this.resetRace())),this.prevButton.addEventListener("click",(()=>this.setGarageContent())),this.nextButton.addEventListener("click",(()=>this.setGarageContent())),this.items.addEventListener("click",(e=>{const{target:t}=e;if(t&&t instanceof HTMLElement){const e=t.closest(".car");e&&t.classList.contains("car__select")&&this.selectCar(e),e&&t.classList.contains("car__remove")&&this.deleteCar(e),e&&t.classList.contains("car__start")&&this.startEngine(e),e&&t.classList.contains("car__stop")&&this.stopEngine(e)}}))}createCar(){const e=(0,r.getElement)(`.${a.GARAGE_STYLE.createInput}`,this.createCarForm),t=(0,r.getElement)(`.${a.GARAGE_STYLE.createInputColor}`,this.createCarForm);e.value?(0,o.createCarAPI)({name:e.value,color:t.value}).then((()=>{this.setGarageContent(),e.value="",t.value="#000000"})):this.createCarForm.append("Enter the name of the car")}selectCar(e){const t=e.getAttribute("carid");if(!t)throw new Error("carId is null");(0,o.getCarAPI)(t).then((e=>{const n=(0,r.getElement)(`.${a.GARAGE_STYLE.updateInput}`,this.updateCarForm),i=(0,r.getElement)(`.${a.GARAGE_STYLE.updateInputColor}`,this.updateCarForm);n.value=e.name,i.value=e.color,(0,r.getElement)(`.${a.GARAGE_STYLE.updateCarId}`).textContent=t}))}updateCar(){const e=(0,r.getElement)(`.${a.GARAGE_STYLE.updateCarId}`,this.updateCarForm).textContent,t=(0,r.getElement)(`.${a.GARAGE_STYLE.updateInput}`,this.updateCarForm),n=(0,r.getElement)(`.${a.GARAGE_STYLE.updateInputColor}`,this.updateCarForm);if(!e)throw new Error("carId is null");t.value?(0,o.updateCarAPI)(e,{name:t.value,color:n.value}).then((e=>{const a=(0,r.getElement)(`.car[carid="${e.id}"]`,this.items),i=(0,r.getElement)(".car__name",a),o=(0,r.getElement)(".car__image svg",a);i.textContent=e.name,o.style.fill=e.color,t.value="",n.value="#000000"})):this.updateCarForm.append("Enter the name of the car")}deleteCar(e){const t=e.getAttribute("carid");if(!t)throw new Error("carId is null");(0,o.deleteCarAPI)(t).then((()=>{this.setGarageContent(),(0,l.deleteWinnerAPI)(t)}))}generateCar(){for(let e=0;e<a.NUMBER_OF_GENERETED_CARS;e+=1){const e=(0,c.getRandomCarName)(),t=(0,c.getRandomColor)();(0,o.createCarAPI)({name:e,color:t})}this.setGarageContent()}startEngine(e){const t=(0,r.getElement)(".car__start",e),n=(0,r.getElement)(".car__stop",e),a=e.getAttribute("carid");if(t.disabled=!0,n.disabled=!1,!a)throw new Error("carId is null");(0,o.startOrStopEngineAPI)(a,"started").then((t=>{const n=t.distance/t.velocity,i=(0,r.getElement)(".car__image",e);this.animationCar(a,n,(function(e){i.style.transform=`translateX(${76*e+"vw"})`})),(0,o.switchEngineAPI)(a).then((e=>{e.success||cancelAnimationFrame(this.idAnimations[a])}))}))}animationCar(e,t,n){const r=performance.now(),a=i=>{const o=(i-r)/t;if(n(o),o<1&&(this.idAnimations[e]=requestAnimationFrame(a)),o>1&&this.raceButton.hasAttribute("disabled")&&this.isFirstCar){const n=+(t/1e3).toFixed(2);this.isFirstCar=!1,this.showResult(e,n),this.addWinner(e,n)}};this.idAnimations[e]=requestAnimationFrame(a)}stopEngine(e){const t=(0,r.getElement)(".car__start",e),n=(0,r.getElement)(".car__stop",e),a=e.getAttribute("carid");if(t.disabled=!1,n.disabled=!0,!a)throw new Error("carId is null");(0,o.startOrStopEngineAPI)(a,"stopped").then((()=>{const t=(0,r.getElement)(".car__image",e);cancelAnimationFrame(this.idAnimations[a]),t.style.transform="translateX(0)"}))}startRace(){this.isFirstCar=!0,this.raceButton.disabled=!0,this.resetButton.disabled=!1,(0,o.getCarsAPI)(this.pagination.currentPage,a.LIMIT_PER_PAGE).then((({cars:e})=>{e.forEach((e=>{const t=(0,r.getElement)(`.car[carid="${e.id}"]`);this.startEngine(t)}))}))}resetRace(){this.raceButton.disabled=!1,this.resetButton.disabled=!0,(0,o.getCarsAPI)(this.pagination.currentPage,a.LIMIT_PER_PAGE).then((({cars:e})=>{e.forEach((e=>{const t=(0,r.getElement)(`.car[carid="${e.id}"]`);this.stopEngine(t)}))}))}showResult(e,t){(0,o.getCarAPI)(e).then((e=>{(new d.Modal).buildModal(`${e.name} went first [${t}s]`)}))}addWinner(e,t){(0,l.getWinnerAPI)(e).then((n=>{if(n){const r=t<n.time?t:n.time,a={id:+e,wins:n.wins+1,time:r};(0,l.updateWinnerAPI)(e,a)}else{const n={id:+e,wins:1,time:t};(0,l.createWinnerAPI)(n)}}))}setNumberOfCars(e){this.numberOfCars=e,this.numberOfItems.textContent=`(${this.numberOfCars})`,this.pagination.setNumberOfItems(this.numberOfCars)}}},150:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const r=n(382),a=n(398);n(252);const i=n(894),o=["main"],s=["main__container","container"];t.Main=class{constructor(){this.garagePage=new a.Garage,this.winnerPage=new i.Winner,this.createMain(),this.addHandler()}createMain(){const e=(0,r.createElement)("main",o),t=(0,r.createElement)("div",s);t.append(this.garagePage.garage,this.winnerPage.winner),e.append(t),document.body.append(e)}addHandler(){(0,r.getElement)(".winner-link").addEventListener("click",(()=>this.winnerPage.setWinnerContent()))}}},327:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWinnerAPI=t.updateWinnerAPI=t.createWinnerAPI=t.getWinnersAPI=t.getWinnerAPI=void 0;const a=n(918),i="http://127.0.0.1:3000";t.getWinnerAPI=function(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(`${i}/winners/${e}`,{method:"GET"});return 200===t.status?t.json():null}))},t.getWinnersAPI=function(e,t,n,o){return r(this,void 0,void 0,(function*(){const s=yield fetch(`${i}/winners?_page=${e}&_limit=${t}&_sort=${n}&_order=${o}`,{method:"GET"}),c=yield s.json();return{winners:yield Promise.all(c.map((e=>r(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{car:yield(0,a.getCarAPI)(`${e.id}`)})}))))),numberOfWinners:Number(s.headers.get("X-Total-count"))}}))},t.createWinnerAPI=function(e){return r(this,void 0,void 0,(function*(){return(yield fetch(`${i}/winners`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()}))},t.updateWinnerAPI=function(e,t){return r(this,void 0,void 0,(function*(){return(yield fetch(`${i}/winners/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}))},t.deleteWinnerAPI=function(e){return r(this,void 0,void 0,(function*(){yield fetch(`${i}/winners/${e}`,{method:"DELETE"})}))}},894:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Winner=void 0;const r=n(382),a=n(315),i=n(295),o=n(327);n(798);const s=n(871);t.Winner=class{constructor(){this.numberOfWinners=0,this.winner=(0,r.createElement)("div",s.WINNER_STYLE.winner),this.numberOfItems=(0,r.createElement)("span",s.WINNER_STYLE.numberOfItems),this.currentPage=(0,r.createElement)("span",s.WINNER_STYLE.currentPage),this.prevButton=(0,r.createElement)("button",s.WINNER_STYLE.prevButton,s.WINNER_TEXT.prevButton),this.nextButton=(0,r.createElement)("button",s.WINNER_STYLE.nextButton,s.WINNER_TEXT.nextButton),this.items=(0,r.createElement)("div",s.WINNER_STYLE.items),this.tbody=(0,r.createElement)("tbody",[]),this.pagination=new i.Pagination(s.LIMIT_PER_PAGE,this.currentPage,this.prevButton,this.nextButton,(()=>this.setWinnerContent())),this.createWinner(),this.setWinnerContent(),this.addSortButtons(),this.addButtonHandlers()}createWinner(){const e=(0,r.createElement)("h2",s.WINNER_STYLE.title,s.WINNER_TEXT.title),t=(0,r.createElement)("h3",s.WINNER_STYLE.pageNumber,s.WINNER_TEXT.pageNumber),n=(0,r.createElement)("div",s.WINNER_STYLE.paginationButtons),a=(0,r.createElement)("table",s.WINNER_STYLE.table),i=(0,r.createElement)("thead",s.WINNER_STYLE.thead),o=(0,r.createElement)("tr",[]);s.WINNER_TEXT.thead.forEach((e=>{const t=(0,r.createElement)("th",["winner__th",`th__${e.toLowerCase().replace(" ","-")}`],e);o.append(t)})),e.append(this.numberOfItems),t.append(this.currentPage),i.append(o),a.append(i,this.tbody),this.items.append(a),n.append(this.prevButton,this.nextButton),this.winner.append(e,t,this.items,n)}setWinnerContent(e="id",t="ASC"){(0,o.getWinnersAPI)(this.pagination.currentPage,s.LIMIT_PER_PAGE,e,t).then((({winners:e,numberOfWinners:t})=>{this.tbody.innerHTML="",e.forEach(((e,t)=>{var n,i;const o=(0,r.createElement)("tr",[]),s=`<td>${t+1}</td><td>${(0,a.getCarImage)(null===(n=e.car)||void 0===n?void 0:n.color)}</td><td>${null===(i=e.car)||void 0===i?void 0:i.name}</td><td>${e.wins}</td><td>${e.time}</td>`;o.innerHTML=s,this.tbody.append(o)})),(0,r.getElements)(".sort span").forEach((e=>e.classList.remove("active"))),this.setNumberOfWinners(t)}))}addSortButtons(){s.SORTABLE_COLUMNS.forEach((e=>{const t=e.toLowerCase().replace(" ","-"),n=(0,r.getElement)(`.th__${t}`,this.items),a=(0,r.createElement)("div",[]),i=(0,r.createElement)("span",["sort",`sort-${t}`]),o=(0,r.createElement)("span",["sort-asc"]),s=(0,r.createElement)("span",["sort-desc"]);n.innerHTML="",i.append(o,s),a.append(e,i),n.append(a)}))}addButtonHandlers(){this.items.addEventListener("click",(e=>{const{target:t}=e;if(t&&t instanceof HTMLElement){const e=t.closest(".sort"),n=null==e?void 0:e.classList[1].split("-").at(-1);(0,r.getElements)(".sort span").forEach((e=>e.classList.remove("active"))),t.classList.add("active"),e&&t.classList.contains("sort-asc")&&this.setWinnerContent(n,"ASC"),e&&t.classList.contains("sort-desc")&&this.setWinnerContent(n,"DESC")}}))}setNumberOfWinners(e){this.numberOfWinners=e,this.numberOfItems.textContent=`(${this.numberOfWinners})`,this.pagination.setNumberOfItems(this.numberOfWinners)}}},871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LIMIT_PER_PAGE=t.SORTABLE_COLUMNS=t.WINNER_TEXT=t.WINNER_STYLE=void 0,t.WINNER_STYLE={winner:["winner","page","hidden"],title:["winner__title"],numberOfItems:["winner__number-of-items"],pageNumber:["winner__page-number"],currentPage:["winner__current-page"],items:["winner__items"],table:["winner__table"],thead:["winner__thead"],paginationButtons:["winner__pagination-buttons"],prevButton:["winner__button-prev","button"],nextButton:["winner__button-next","button"]};const n=["Wins","Best time"];t.SORTABLE_COLUMNS=n;const r={title:"Winner",pageNumber:"Page #",prevButton:"<",nextButton:">",thead:["Number","Car","Name",...n]};t.WINNER_TEXT=r,t.LIMIT_PER_PAGE=10},295:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0,t.Pagination=class{constructor(e,t,n,r,a){this.currentPage=1,this.numberOfItems=0,this.numberOfPages=0,this.limitItemsPerPage=e,this.elementOfCurrentPage=t,this.prevButton=n,this.nextButton=r,this.elementOfCurrentPage.textContent=`${this.currentPage}`,this.action=a,this.addButtonHandler()}addButtonHandler(){this.prevButton.addEventListener("click",(()=>this.prevPage())),this.nextButton.addEventListener("click",(()=>this.nextPage()))}nextPage(){this.currentPage<this.numberOfPages&&(this.currentPage+=1,this.elementOfCurrentPage.textContent=`${this.currentPage}`,this.checkDisabledButton(),this.action())}prevPage(){this.currentPage-1>0&&(this.currentPage-=1,this.elementOfCurrentPage.textContent=`${this.currentPage}`,this.checkDisabledButton(),this.action())}setNumberOfItems(e){this.numberOfItems=e,this.numberOfPages=Math.ceil(this.numberOfItems/this.limitItemsPerPage),this.checkDisabledButton()}checkDisabledButton(){this.currentPage-1==0?this.prevButton.disabled=!0:this.prevButton.disabled=!1,this.currentPage===this.numberOfPages?this.nextButton.disabled=!0:this.nextButton.disabled=!1}}},382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=t.getElements=t.getElement=void 0,t.getElement=(e,t)=>{const n=(t||document).querySelector(e);if(!n)throw new Error(`Element ${e} does not exist`);return n},t.getElements=(e,t)=>(t||document).querySelectorAll(e),t.createElement=(e,t,n,r)=>{const a=document.createElement(e);return t&&a.classList.add(...t),n&&(a.textContent=n),r&&a.setAttribute("id",r),a}},31:(e,t,n)=>{e.exports=n.p+"assets/rss_logo.svg"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!e;)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(654),(new(n(717).App)).start()})();